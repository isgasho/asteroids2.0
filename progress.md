RIFTS:
* spawn rifts enemy \/
* draw rift lazer\/
* * without distance \/
* * with distance \/
* process rift lazers \/
* rotational behavior
* make them faster?

CURRENT:
 * one struct for lazer and multylazer \/
* * side lazers(the same upgrade as side bullets) \/

ACTIVE ABILITIES feature:
* * ring ability

* explosion size for asteroids \/
* Menu
* * particles towards player \/
* ship selection \sort of/
* * show stats

* Upgrades
* * lazer length upgrade \/
* * bullet reflections  \/

ENEMIES:
* add big bullet with reflection enemy \/
* * draw image for it \/
* two ships with lazer between them from Andrey's game \/
* * follow rotational

* damage ship from asteroids
* red screen when damaged \sort of, fix lazers/

* add harder placeholder waves at the end (mb just loop with improved stats..?)
* scores saving
* spawn ability: spawned from enemies to increase damage to asteroids for mining


Limit max side bullets upgrade

GRAPHICS:
* ship trace
* bullet trace
* better weapon icons in menu
* reflection upgrade image
* ligth shooting
* red light when lazer


 HUGE REFACTORING:
 <!-- * warnings \/ -->
 <!-- * undersigns \/ -->
 <!-- * fix timers \/ -->
 <!-- * one struct for blaster and shotgun \/ -->
 <!-- * damage processing simplify \/ -->
 * InsertSystem
 * comments
 * move high level gfx into different crate?
 * gui simplify
 * * Image primitive
 * * text layout
 * go through TODO tags
 * rendering simplify
 * debug stuff rendering separately
 * think about timers in animations
 * fix progress file
 * fix done button
 * rename enemies

* SystemData for gunkind to insert guns kile a clever guy

VIDEO

* Drawing ships videos (no license haha... :( ) (mb export as images and then make cartoonish thing)


PEOPLE
* handmade network
* indiedev subreddit
* indiegaming subreddit
* indiedb
* rusty
* * russia rust community forum??
* russia
* * make vk group
* * indiecator?

TODO
<!-- * rockets rotation \/ -->
<!-- * health collectables from asteroids and remove regeneration \/ -->
<!-- * rotation fire ship \/ -->
<!-- * add rotation ship with cannon -->
* bullet contact sound
<!-- menu music -->
* loot abilities 
<!-- * * double exp \/ -->
<!-- * * rendering \/ -->
<!-- * * double coins \/ -->
<!-- * * side bullets \/ -->
<!-- * add big stars \it's bad/-->
* lazy updater for InsertSystem
<!-- * voronoi bullet point \/ -->
<!-- * voronoi lazer point \just center/ -->

* new enemies
<!-- * * snake \/ -->
<!-- * * missiles ship \/ -->


<!-- * ?new abilities(like side bullets/lazers or reflections) mining from asteroids then upgrading? \/ -->
* add taran upgrade
<!-- * ui selection \/ -->
<!-- * coins \/ -->
<!-- * buy sound \/ -->
<!-- * better lazer sound \/ -->
<!-- * fix cheating when upgrading \/ -->
* fix stars spawning bug
* fix bug lazers dead
<!-- * fix bug asteroid spawn -->
* make better animations
* ship buying on coins

<!-- * fixed number of the same sounds at a time and gap. \/ -->
* GO VORONOI!!! \/
* score table saving
* spawn less coins
* add lifetime to coins
* UI art
* UI with feedback
* add bullet position for voronoi
* ship buy
* save money and scores
* unify damage processing/killing code

<!-- * add rotation behaviour -->
<!-- * add rockets \/ -->
<!-- * image borders fix \sort of. Nearest filter average white colors around/ -->
* bullet sound in gun desc


FUN IDEAS TO TRY(TO SWITCH FROM WORK FOR FUN)
* PORT TO WEB
* MORE PROC GEN?


* gui feedback and states
* spawn group of enemies simultaniously

<!-- * nebulas spawn control \/ -->
<!-- * * spawning grid? \/ -->
<!-- * add planet \/ -->
<!-- * image loading for bullets \/ -->


* enemies
<!-- * * constantly trhows slow bullets in spiral(while rotating) \/ -->
* * rarely throws super fast bullets
<!-- * * lazer beams around and rotating \/ -->
<!-- * * charging enemies \/ -->
* * real shotgun enemy
* * bomb thrower \/
* * bomberman \/
* * bomb trace
<!-- * * rockets enemy \/ -->
* add boss2
* add score table
<!-- * agressive only if noticed \/ -->
* fix sounds??? seems ok
* more gold for more level you are

* circular style? circular pixel art?

* new projectiles
<!-- * * rocketes \/ -->
<!-- * * granades \/ -->
* * * animations
* * * custom image
<!-- ws bullets around -->
<!-- * * constantly trhows slow bullets in spiral(while rotating) -->

* * rarely throws super fast bullets

GRAPHICS:
* Ship sield size draw dynamicly
* 
TODO LIST
* Lazer add skilss
* * Lazer length

* increase ship size with max health upgrade
* blaster add skills 
* * reflection (initial speed of each reflection is less than prev)
* * additional side bullets
* * damage
* * accuracy (reduce bullets spread)
* boosts from asteroids
* once someone got shooted make it's sprite white for a moment
* ship knockback?
* sleep when killed enemy???
* * money $$$ for buying ships and weapons
* * ?shield and hull repair
* weapon rotated bullets around you like in bitblaster
* asteroids damage?
* choose weapon and ship before start (it's saved from previous choise)
* add rotation bullets gun
* bullet trace like in nova drift
* ship sound
* add screen border markers to indicate enemies out of screen
* shotgun enemies
* * weapon modifier -- bullets reflection(for lazer it would be super cool too :D for shotgun it would be nice to add additional stike in place where reflected)
* when oriented towards speed is more and also add reactor on the back like in "weired game wich name I forgot"

* ship damage upgrade (taran ship! :) )


<!-- * damage ship \/ -->
<!-- * Sample only usefull upgrades \/ -->
<!-- * try shadows again \/ -->
<!-- * animations \/ -->
<!-- * explosions with animations \/ -->
<!-- * android revisit \no stencil :O/ -->
<!-- * make gif (+ video) on #screenshot_saturday \/ -->
<!-- * correct shadows \/ -->
<!-- * add AI for enemies with aware of shadows \somehow/ -->
<!-- * asteroids spawn coins \/ -->
<!-- * collect conins with magneto \/ -->
<!-- * rewrite lazers logic and unify killing logic \/ -->
<!-- * exp coins and coins add real exp and real money. Killing -- not \/ -->
<!-- * Time to next wave (mb also add ability to add pauses between waves) -- \nope/ -->
<!-- * enemies by name \/ -->
<!-- * add boss1 \/ -->
<!-- * constant enemies \/ -->

<!-- * Pick gun UI \/ -->
<!-- * Don't slow down bullets \/ -->
<!-- * * rarely throws bullets around \/ -->
<!-- * * lazer beam enemy \/ -->

<!-- * waves \/ -->
<!-- * collisions \/ -->

<!-- * add screen shake (when just shooting to?) \/ -->


<!-- * add text \/ -->
<!-- * move enemies,all stats, guns and ships etc into file for tweaking \/ -->
<!-- * * balance enemies and player stats \+-/ -->
<!-- * circle enemies around \easier do it with forces/ -->
<!-- * redo gui -->
<!-- * * button selection \/ -->
<!-- * * skills information \/ -->

<!-- * try move camera according to gun direction \/ -->

<!-- * upgrades from files \/ -->



<!-- * add placeholder music \/ -->
<!-- * sample random skills \/ -->
<!-- * when died, restart from menu \/ -->
<!-- * skill menu via hotkey \/ -->
<!-- *  Angnostic skills \/ -->
<!-- * * ship rotation speed \/ -->
<!-- * * shield regen \/ -->
<!-- * * hull regen \/ -->
<!-- * * shield size \/ -->
<!-- * * hull size \/ -->
<!-- * skill choise button \/ -->

not ordered by priority
<!-- * add asteroids initial movement and rotation \/
* redo asteroids explosions: fix rotation of parts when destructed \/ (seems good but when rotation is fast feels wrong?)
* redo asteroids explosions: add lifes \/ -->
* redo character asteroids collision?
<!-- * redo effects spawning (explosion when destroyed, mini explosion when shoted) \/ -->
<!-- * enemies start shoot when theay near you and stop futher \/ -->
<!-- * enemies should avoid asteroids \hacked, need something clever/ -->
<!-- * wasd control \/ -->
<!-- * lazer weapon (rotation) \/ -->
<!-- * lazer weapon (no rotation) not fit in controls X -->
<!-- * shotgun weapon \/ -->
 <!-- * * ship speed boost for some time X -->
<!-- * * "additional weapon"  -- trace like in bitblaster -->
<!-- * lazer sound \/ -->

* more bass to sound lol :)
* random explosions
* camera back when shooting (instead of screenshake?)
* bigger explosions 
* slow motion when dead

* atlasses?


Skills
* Lazer
* * length
* * damage
* * reflection
* * additional side beams
* Blaster
* * initial speed
* * attack rate
* * reflection
* * additional side bullets
* * damage
* Shotgun
* * initial speed
* * attack rate
* * reflection
* * bullets life
*  Angnostic
* * ship speed
* * ship rotation speed
* * shield regen
* * hull regen
* * shield size
* * hull size


TECH AND TEST:
* Android Joystick touch controls \/

GAMEPLAY
<!-- * collectables? (from killed enemies and asteroids probably) -->
<!-- * enemies -->
<!-- * ship upgrades? -->
* asteroids parts

MEDIA:
* stars like here https://www.youtube.com/watch?v=s52YZMoHur0  (change background color according to how near we are)
* screen shake with depth rotation so it looks like more 3d depth shake
* sound effects
<!-- * shadows intersection bug -->
* thrusters
* parallax background
* particles on movement
* camera distance based on speed



Vlad Zhukov, [26.07.19 15:39]
Что-то не могу перейти left hand view матрицы к right hand (с right hand все работает, но ось y логично оказывается перепутанной из-за моего переворота в шейдере).
Делаю так:
* меняю Isometry3::look_at_rh(&observer, &target, &Vector3::y()) на Isometry3::look_at_lh(&observer, &target, &Vector3::y())
* В перспективном преобразовании меняю z_near и z_far местами, поскольку мне нужно взять его какбы с другими знаками, но оно инвариатно относительно переворота оси z: f(-z1, -z2) = f(z1, z2)
* меняю z координату observer на противоположную
* programming by permutation: пробовал отключать эти пункты по отдельности  :)))
ЧЯДНТ?


Y_INVERSE * rh_view(up = y_axis ) !=
Y_INVERSE * lh_view(up = -y_axis)

где Y_INVERSE — матрица инвертирующая y